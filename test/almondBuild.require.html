<!doctype html>
<html>
	<head>
		<title>Test tmclasses-> built with almond, using require</title>

		<!-- load qunit -->
		<script src="../vendor/qunit/qunit/qunit.js"></script>
		<link rel="stylesheet" href="../vendor/qunit/qunit/qunit.css"></link>
		<script>QUnit.config.autostart = false;</script>

		<!-- load require -->
		<script src="../vendor/requirejs/require.js"></script>

		<!-- load tmclasses -->
		<script>
			//--test with global strict mode
			'use strict';

			//-- console logging alias
			this.clog = function(){ console.log.apply(console, arguments); }

			//--tell tests whether this is using the build version
			this.__usingAlmondBuild = true;

			//--make sure QUnit doesn't start immediately, so we can load all files first
			QUnit.config.autostart = false;

			//--configure require.js inline
			requirejs.config({
				paths: {
					tmclasses: '../dist/tmclasses.almond'
					,test: '.'
				}
				,shim: {
				}
			});

			//--require tests
			require([
					'test/core'
					,'test/BaseClass'
					,'test/MGetSet'
					,'test/MPubSub'
				]
				,function(__){
					//--start tests
					QUnit.start();
				}
			);

		</script>
	</head>
	<body>
		<div id="qunit">QUnit failure</div>
	</body>
</html>
